{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container">
    <div class="row">
        <div class="col">
            <!-- Main content of the page -->

            <!-- Reviews section at the bottom -->
            <div id="reviews-section">
                <h3>Customer Reviews</h3>
                <div id="review-container">
                    {% for review in reviews %}
                        {% if image in review %}
                            {}
                        <div class="review {% if forloop.first %}active{% endif %}">
                            <p>{{ review.review_body }}</p>
                            <p> {{review.date_of_review}}</p>
                            <p>- {{ review.full_name }}</p>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // JavaScript script to cycle through reviews
    const reviews = document.querySelectorAll('.review');
    let currentIndex = 0;

    function showReview(index) {
        reviews.forEach(review => review.classList.remove('active'));
        reviews[index].classList.add('active');
    }

    function nextReview() {
        currentIndex = (currentIndex + 1) % reviews.length;
        showReview(currentIndex);
    }

    // Initial display
    showReview(currentIndex);

    // Set up interval to automatically cycle through reviews
    setInterval(nextReview, 5000);  // Adjust the interval as needed (milliseconds)
</script>

{% endblock %}