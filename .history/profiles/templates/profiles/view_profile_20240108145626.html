{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}Your Profile{% endblock %}

{% block content %}
<div class="container mt-4">
    <h1>Your Profile</h1>
        <form method="post" action="{% url 'view_profile' %}" class="mt-3" >
            {% csrf_token %}
            
            {{ user_profile_form | crispy }}

            <button type="submit" class="btn btn-success">Save Information</button>
        </form>
</div>
{% endblock %}
<script>
    $(document).ready(function() {
        // Add custom validation for all input fields within the form except email
        $('#payment-form input:not([name="email"])').on('input', function() {
            var value = $(this).val();
            if (!/^[0-9A-Za-z\s]*$/.test(value)) {
                this.setCustomValidity("Please enter a valid value without special characters.");
            } else {
                this.setCustomValidity("");
            }
        });
    });
</script>